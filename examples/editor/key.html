<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>react vs preact</title>
    <!--<script src="//cdn.bootcss.com/preact/8.2.9/preact.dev.js"></script>-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/preact/8.3.1/preact.min.js"></script>
    <script src="//cdn.bootcss.com/react/16.4.0/umd/react.development.js"></script>
    <script src="//cdn.bootcss.com/react-dom/16.4.0/umd/react-dom.development.js"></script>

    <style>
        html,body{
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }

        #preact{
            width: 50%;
            height: 100%;
        }

        #react{
            width: 50%;
            height: 100%;
        }

    </style>
</head>
<body>

<div id="preact"></div>
<hr>
<div id="react"></div>

<script>
    (function () {
        const { h, render, Component } = preact;

        var dom0 = h('div',{className: "markdown-body",key: 0},[
            h('h3',{key: 0},[
                h('span',{key: 0}, "=====================")
            ]),
            h('div',{
                key: 1,
                dangerouslySetInnerHTML:{
                    __html: `<div>html</div>`
                }
            })
        ]);

        var dom1 = h('div',{className: "markdown-body",key: 0},[
            h('h3',{key: 0},[
                h('span',{key: 0}, "=====================")
            ]),
            h('p',{key: 1},[
                h('span',{key: 0}, "1")
            ]),
            h('div',{
                key: 2,
                dangerouslySetInnerHTML:{
                    __html: `<div>html</div>`
                }
            })
        ]);

        class Preview extends Component {

            constructor() {
                super();
                this.state = {
                    vdom: dom0
                }
            }

            componentDidMount() {
                setTimeout(()=>{
                    this.setState({
                        vdom: dom1
                    });
                }, 3000);
            }

            render() {
                return this.state.vdom;
            }
        }

        render(
            h(Preview),
            document.getElementById('preact')
        );
    })();
</script>

<script>
    (function () {
        const h = React.createElement;

        var dom0 = h('div',{className: "markdown-body",key: 0},[
            h('h3',{key: 0},[
                h('span',{key: 0}, "=====================")
            ]),
            h('div',{
                key: 1,
                dangerouslySetInnerHTML:{
                    __html: `html`
                }
            })
        ]);

        var dom1 = h('div',{className: "markdown-body",key: 0},[
            h('h3',{key: 0},[
                h('span',{key: 0}, "=====================")
            ]),
            h('p',{key: 1},[
                h('span',{key: 0}, "1")
            ]),
            h('div',{
                key: 2,
                dangerouslySetInnerHTML:{
                    __html: `html`
                }
            })
        ]);

        class Preview extends React.Component {

            constructor() {
                super();
                this.state = {
                    vdom: dom0
                }
            }

            componentDidMount() {
                setTimeout(()=>{
                    this.setState({
                        vdom: dom1
                    });
                }, 3000);
            }

            render() {
                return this.state.vdom;
            }
        }

        ReactDOM.render(
            h(Preview),
            document.getElementById('react')
        );
    })();
</script>

</body>
</html>